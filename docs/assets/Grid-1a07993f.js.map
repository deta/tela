{"version":3,"file":"Grid-1a07993f.js","sources":["../../src/lib/Grid.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { getContext } from \"svelte\";\n  import type { Writable } from \"svelte/store\";\n  import type { TBoard, TBoardSettings } from \"./types/Board.type.js\";\n\n  export let dotColor = \"black\";\n  export let dotOpacity = 30;\n  export let dotSize = 1;\n\n  const board = getContext<Writable<TBoard>>(\"board\");\n  const settings = getContext<Writable<TBoardSettings>>(\"settings\");\n\n  // $: transformCss = `transform: translate(${$board.viewOffset.x}px, ${$board.viewOffset.y}px);`;\n  $: transformCss = `width: ${100 / $board.zoom}%; height: ${\n    100 / $board.zoom\n  }%; transform: translate3d(-${dotSize}px, -${dotSize}px, 0) translate3d(${\n    $board.viewOffset.x - ($board.viewOffset.x % $settings.GRID_SIZE!)\n  }px, ${$board.viewOffset.y - ($board.viewOffset.y % $settings.GRID_SIZE!)}px, 0);`;\n\n  $: svgShiftCss = `transform: translate3d(-${$board.viewOffset.x % $settings.GRID_SIZE!}px, 0px, 0);`;\n</script>\n\n<div class=\"grid\" style={transformCss}>\n  <svg width=\"100%\" height=\"100%\"  xmlns=\"http://www.w3.org/2000/svg\">\n    <pattern\n      id=\"dotGrid\"\n      x=\"0\"\n      y=\"0\"\n      width={$settings.GRID_SIZE}\n      height={$settings.GRID_SIZE}\n      patternUnits=\"userSpaceOnUse\"\n    >\n      <circle cx={dotSize} cy={dotSize} r={dotSize} fill={dotColor} fill-opacity=\"{dotOpacity}%\" />\n    </pattern>\n\n    <!-- Left square with user space tiles -->\n    <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#dotGrid)\" />\n  </svg>\n</div>\n\n<style>\n  .grid {\n    position: relative;\n    min-height: 100%;\n    z-index: 0;\n  }\n  .grid > svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n</style>\n"],"names":["ctx","attr","pattern","pattern_width_value","pattern_height_value","insert_hydration","target","div","anchor","append_hydration","svg","circle","rect","dirty","dotColor","$$props","dotOpacity","dotSize","board","getContext","settings","$$invalidate","transformCss","$board","$settings"],"mappings":"ipBAgCkBA,EAAO,CAAA,CAAA,WAAMA,EAAO,CAAA,CAAA,UAAKA,EAAO,CAAA,CAAA,aAAQA,EAAQ,CAAA,CAAA,uBAAiBA,EAAU,CAAA,EAAA,GAAA,gDAJhFC,EAAAC,EAAA,QAAAC,EAAAH,KAAU,SAAS,EAClBC,EAAAC,EAAA,SAAAE,EAAAJ,KAAU,SAAS,sSAPRA,EAAY,CAAA,CAAA,UAArCK,EAgBKC,EAAAC,EAAAC,CAAA,EAfHC,EAcKF,EAAAG,CAAA,EAbHD,EASSC,EAAAR,CAAA,EADPO,EAA4FP,EAAAS,CAAA,EAI9FF,EAAmEC,EAAAE,CAAA,0BAJrDZ,EAAO,CAAA,CAAA,gBAAMA,EAAO,CAAA,CAAA,eAAKA,EAAO,CAAA,CAAA,kBAAQA,EAAQ,CAAA,CAAA,cAAiBA,EAAU,CAAA,EAAA,4BAJhFa,EAAA,GAAAV,KAAAA,EAAAH,KAAU,2BACTa,EAAA,GAAAT,KAAAA,EAAAJ,KAAU,8CAPCA,EAAY,CAAA,CAAA,uDAjBxB,SAAAc,EAAW,OAAA,EAAAC,GACX,WAAAC,EAAa,EAAA,EAAAD,GACb,QAAAE,EAAU,CAAA,EAAAF,EAEf,MAAAG,EAAQC,EAA6B,OAAO,qBAC5C,MAAAC,EAAWD,EAAqC,UAAU,kLAGhEE,EAAA,EAAGC,EAAyB,UAAA,IAAMC,EAAO,IAAI,cAC3C,IAAMA,EAAO,IACf,8BAA8BN,CAAO,QAAQA,CAAO,sBAClDM,EAAO,WAAW,EAAKA,EAAO,WAAW,EAAIC,EAAU,SACzD,OAAOD,EAAO,WAAW,EAAKA,EAAO,WAAW,EAAIC,EAAU,SAAW,SAAA,kBAE7BD,EAAO,WAAW,EAAIC,EAAU"}