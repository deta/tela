import{S as A,i as E,s as x,J as L,j as S,m as p,t as I,l as T,f as g,K as v,D as R,E as C,L as k,M as U,F as O,e as V,c as Z,b as w,N as D,O as M,G as H,H as W,I as j,o as q}from"./index-eaaa2899.js";import{g as B}from"./spread-8a54911c.js";const ee=(t,e=0,l=1)=>Math.min(l,Math.max(e,t));function F(t,e){return t?t.classList.contains(e)?!0:t.parentElement?F(t.parentElement,e):!1:!1}function m(t,e){return Math.round(t/e)*e}const h=new Map;function te(t,e,l){h.has(t)&&clearTimeout(h.get(t));const s=setTimeout(l,e);h.set(t,s)}function J(){return typeof window<"u"}function P(t){let e,l,s,i;const c=t[11].default,r=O(c,t,t[10],null);let _=[t[5],{class:l="positionable "+(t[5].class||"")},{style:s=t[2]+" "+(t[5].style||"")}],a={};for(let n=0;n<_.length;n+=1)a=k(a,_[n]);return{c(){e=V("div"),r&&r.c(),this.h()},l(n){e=Z(n,"DIV",{class:!0,style:!0});var u=w(e);r&&r.l(u),u.forEach(g),this.h()},h(){D(e,a),M(e,"svelte-1p7nrv8",!0)},m(n,u){S(n,e,u),r&&r.m(e,null),i=!0},p(n,u){r&&r.p&&(!i||u&1024)&&H(r,c,n,n[10],i?j(c,n[10],u,null):W(n[10]),null),D(e,a=B(_,[u&32&&n[5],(!i||u&32&&l!==(l="positionable "+(n[5].class||"")))&&{class:l},(!i||u&36&&s!==(s=n[2]+" "+(n[5].style||"")))&&{style:s}])),M(e,"svelte-1p7nrv8",!0)},i(n){i||(p(r,n),i=!0)},o(n){I(r,n),i=!1},d(n){n&&g(e),r&&r.d(n)}}}function K(t){let e,l,s=(!t[0].CULL||t[1])&&P(t);return{c(){s&&s.c(),e=L()},l(i){s&&s.l(i),e=L()},m(i,c){s&&s.m(i,c),S(i,e,c),l=!0},p(i,[c]){!i[0].CULL||i[1]?s?(s.p(i,c),c&3&&p(s,1)):(s=P(i),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(q(),I(s,1,1,()=>{s=null}),T())},i(i){l||(p(s),l=!0)},o(i){I(s),l=!1},d(i){i&&g(e),s&&s.d(i)}}}function Q(t,e,l){let s,i;const c=["pos","size","z"];let r=v(e,c),_,a,{$$slots:n={},$$scope:u}=e,{pos:f}=e,{size:d}=e,{z:b=1}=e;const z=R("board");C(t,z,o=>l(9,_=o));const G=R("settings");C(t,G,o=>l(0,a=o));function N(o,y={x:620,y:340}){return J()&&(y.x=window.innerWidth,y.y=window.innerHeight),f.x>o.x-a.CULL_MARGIN&&f.y>o.y-a.CULL_MARGIN&&f.x+d.x<o.x+a.CULL_MARGIN+y.x/_.zoom&&f.y+d.y<o.y+a.CULL_MARGIN+y.y/_.zoom}return t.$$set=o=>{e=k(k({},e),U(o)),l(5,r=v(e,c)),"pos"in o&&l(6,f=o.pos),"size"in o&&l(7,d=o.size),"z"in o&&l(8,b=o.z),"$$scope"in o&&l(10,u=o.$$scope)},t.$$.update=()=>{t.$$.dirty&449&&l(2,s=`transform: translate(${a.SNAP_TO_GRID?m(f.x,a.GRID_SIZE):f.x}px, ${a.SNAP_TO_GRID?m(f.y,a.GRID_SIZE):f.y}px); width: ${a.SNAP_TO_GRID?m(d.x,a.GRID_SIZE):d.x}px; height: ${a.SNAP_TO_GRID?m(d.y,a.GRID_SIZE):d.y}px; z-index: ${b};`),t.$$.dirty&512&&l(1,i=N(_.viewOffset))},[a,i,s,z,G,r,f,d,b,_,u,n]}class X extends A{constructor(e){super(),E(this,e,Q,K,x,{pos:6,size:7,z:8})}}X.__docgen={version:3,name:"Positionable.svelte",data:[{visibility:"public",description:null,keywords:[],name:"pos",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"size",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"z",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};export{X as P,ee as c,te as d,F as h};
//# sourceMappingURL=Positionable-51bce168.js.map
