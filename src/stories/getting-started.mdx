import { Meta, Source, ArgTypes } from "@storybook/blocks";
import * as BoardStorys from "./Board.stories";
import * as PositionableStorys from "./Positionable.stories";

<Meta title="Get Started" />

# Get Started

Tela is a declarative svelte library for creating infinite canvases, positioning elements on them, and handling all canvas related logic like moving elements, dragging, panning etc.

By using tela, the example code below is all you need to get an infinite canvas up and running, position elements on it.

<Source
  language="jsx"
  code={`
<main>
  <Board {settings} {board}>
    <Positionable pos={{ x: 10, y: 10 }} size={{ x: 400, y: 300 }} z={1}>
      <span>Hello, I am tela.</span>
    </Positionable>
  </Board>
</main>
`}
/>

## How it works.

The general usage idea is that you declare your board and the elements it contains in your markup, whilst binding properties like position and size to some external data source like a store.
Some real life examples on how this works and how you can integrate tela into your application can be found in the [examples](/examples) folder.

## Components

### Board

The board is the main component of tela. It is the container for all other components and handles all the logic for panning, zooming etc.
It can be configured using the `settings` prop, and exposes the `board` store, which contains all the information about the current state of the board like the zoom factor or the view offset.


todo: story

<ArgTypes of={BoardStorys} />

### Positionable

Any element on the board must be wrapped in a `Positionable` component. This component handles the positioning of the element on the board whilst panning and zooming.

todo: story

<ArgTypes of={PositionableStorys} />

### Draggable

These components can be used to make a specific area draggable by holding down the left mouse button on them. The `pos` prop needs to be a svelte binding so the component can update the source value on change.

### Resizable

These components create an element which acts as a handle for resizing.

todo: direction prop

### Grid

In case you want an infinite grid as the board background, which moves with the board, you can use the `Grid` component.
The styling of the grid dot's can be changed while the gap is determined by the `GRID_SIZE` property of the board's settings.

todo: story

## Styling

Each component in tela passes down its props to the underlying DOM element. This means that you can style them as you would any other Svelte component, either by adding a custom class or by directly using the html `style` attribute.

> ðŸ’¡ If you are using classes for styling, make sure to either use the `:global(.yourClassName) {}` selector or an external stylesheet. Otherwise, the styles will be scoped to your component and will not be applied to the actual tela element underneath.

### Global classes

Tela adds a few default classes to its elements, so you can start styling them right away. These classes are:

- `tela-container`: The container element of a board.
- `board`: The board element inside the container.
- `positionable`: A positionable element inside the board.
- `draggable`: A draggable element inside the board.
- `resizable`: A resizable element inside the board.

- `selection-rect`: the rectangle beeing drawn whilst dragging in the `draw` or `selecting` mode.

Some additional classes are added to the body, which can be used to apply styling depending on the current state (e.g. mouse cursor). These are:

- `body.drawing`
- `body.panning`
- `body.selecting`

## Utilities

### `.tela-ignore`

Add this class to any element inside a board to make it ignore all tela events like dragging, moving etc.
