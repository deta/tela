import { Meta, Source, ArgTypes, Canvas, Story } from "@storybook/blocks";
import * as StylingExample from "./boards/StylingExample.stories";

<Meta title="Styling" />

# Styling

Styling tela components can be done in 3 different ways (example code below):
1. Style the default tela class (e.g. `.positionable` for positionable elements).
2. Add a custom class to the element and style it in the css style block.
3. Add inline styles to the element.

> ðŸ’¡ If you are using classes for styling, make sure to either use the `:global(.yourClassName) {}` selector or an external stylesheet. Otherwise, the styles will be scoped to your component and will not be applied to the actual tela element underneath.

Tela also provides a default stylesheet which you can import into your project. This stylesheet contains some sensible default like mouse cursors indicating the current mode, or the selection rectangle.
You can use this stylesheet by importing it into your project (todo: adjust path):

<Source language="ts"
  code={`
import "@deta/tela/dist/tela.css";
`}/>

<br/>
## Global classes

Tela adds a few default classes to its elements, so you can start styling them right away. These classes are:

- `tela-container`: The container element of a board.
- `board`: The board element inside the container.
- `positionable`: A positionable element inside the board.
- `draggable`: A draggable element inside the board.
- `resizable`: A resizable element inside the board.

- `selection-rect`: the rectangle beeing drawn whilst dragging in the `draw` or `selecting` mode.

Some additional classes are added to the body, which can be used to apply styling depending on the current state (e.g. mouse cursor). These are:

- `body.drawing`
- `body.panning`
- `body.selecting`

<br/>
## Example

This example code displays the various ways to style elements.

<Canvas of={StylingExample.Default} layout="fullscreen"/>
<Source
  language="html"
  code={`
<script lang="ts">
  import Board from "$lib/Board.svelte";
  import Positionable from "$lib/Positionable.svelte";
  import type { TBoard, IBoardSettings } from "$lib/index.js";
  import { writable } from "svelte/store";

  const settings = writable({} satisfies IBoardSettings);
  const board = writable({} satisfies TBoard);
</script>

<main class="stylingExample">
  <Board {settings} {board}>
    <Positionable pos={{ x: 10, y: 10 }} size={{ x: 400, y: 300 }} z={1}>
      <header>
        <span>Tela class styling</span>
      </header>
      <p>
        This card uses the default 'positionable' class provided by tela to style it.
        Note: These styles will automatically apply to all other positionables as well.
      </p>
    </Positionable>

    <Positionable class="card" pos={{ x: 420, y: 400 }} size={{ x: 400, y: 300 }} z={1}>
      <header>
        <span>Class styling</span>
      </header>
      <p>
        This card adds a 'card' class to the positionable and styles it inside the css
        Style block.
      </p>
    </Positionable>

    <Positionable
      style="background: #fefe;"
      pos={{ x: 400, y: 250 }}
      size={{ x: 300, y: 40 }}
      z={1}
    >
      <span>Styled using inline style tag. </span>
    </Positionable>
  </Board>
</main>

<style>
  main.stylingExample {
    height: 500px;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  }

  :global(.stylingExample .positionable) {
    border-radius: 10px;
    border: 1px solid rgba(0, 0, 0, 0.2);
    padding: 2ch;
  }

  :global(.stylingExample .card) {
    background: floralwhite;
  }
  :global(.stylingExample .card > header) {
    font-weight: 600;
    font-size: 1.3em;
  }
</style>

`}
/>